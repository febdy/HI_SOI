<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="video">

	<insert id="insertUpload" parameterType="int">
		<![CDATA[
			insert into video
			values (seq_video_no.nextval, #{userId}, #{videoOriginName}, #{videoSaveName}, #{videoExName}, #{videoPath}, #{videoSize}, sysdate, '교정선 받기')
		]]>
	</insert>
	
	<select id="selectMyVideo" parameterType="String" resultType="com.bit.hi.domain.vo.VideoVo">
		<![CDATA[
			select video_no videoNo,
					user_id userId,
					video_origin_name videoOriginName,
					video_save_name videoSaveName,
					video_ex_name videoExName,
					video_path videoPath,
					video_size videoSize,
					video_date videoDate,
					video_correct_line videoCorrectLine
			from video
			where user_id=#{userId}
		]]>
	</select>
	
	<select id="selectVideoInfo" parameterType="int" resultType="com.bit.hi.domain.vo.VideoVo">
		<![CDATA[
			select video_no videoNo,
					user_id userId,
					video_origin_name videoOriginName,
					video_save_name videoSaveName,
					video_ex_name videoExName,
					video_path videoPath,
					video_size videoSize,
					video_date videoDate,
					video_correct_line videoCorrectLine
			from video
			where video_No=#{videoNo}
		]]>
	</select>
	
	<!-- 임시로 ioi로  videoNo를 가져옴 -->
	<select id="selectVideoNo" parameterType="String" resultType="int">
		<![CDATA[
			select video_no videoNo
			from video
			where video_origin_name=#{videoOriginName}
		]]>
	</select>
	
	
</mapper>